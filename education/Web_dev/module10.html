<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Module 10 - To-Do List App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #1a202c;
        }
        .container {
            max-width: 900px;
        }
        .prose h1, .prose h2, .prose h3 {
            color: #3182ce;
        }
        .lesson-card {
            background-color: #ffffff;
            border-radius: 1rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .todo-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem;
            border-radius: 0.5rem;
            background-color: #f3f4f6;
            margin-bottom: 0.5rem;
            transition: all 0.2s ease-in-out;
        }
        .completed {
            text-decoration: line-through;
            color: #9ca3af;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.4);
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }
        .modal-content {
            background-color: #fefefe;
            padding: 2rem;
            border-radius: 12px;
            width: 90%;
            max-width: 500px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .modal-close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            line-height: 1;
        }
        .modal-close-btn:hover,
        .modal-close-btn:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="index.html" class="text-xl font-bold text-gray-900">Module 10: To-Do App</a>
        </div>
    </header>

    <main class="flex-grow container mx-auto px-6 py-10 md:py-16">
        <div class="prose max-w-none">
            <h1 class="text-center text-4xl font-extrabold mb-10 text-gray-900">Building a Simple To-Do App</h1>

            <!-- Project Description -->
            <section class="lesson-card p-8 mb-12">
                <h2 class="text-3xl font-bold mb-4">Project: The To-Do List</h2>
                <p class="text-gray-700 mb-4">This project brings together everything you've learned so far. We will build a simple, single-page to-do list application. You'll use HTML for the structure, CSS for the styling, and JavaScript to handle all the logic and interactivity. This is a great way to solidify your understanding of DOM manipulation and event handling.</p>
                <div class="w-full flex justify-center mt-6">
                    <div class="bg-gray-100 rounded-lg p-6 w-full max-w-md shadow-md">
                        <h3 class="text-xl font-bold mb-4 text-center">My To-Do List</h3>
                        <div class="flex mb-4">
                            <input type="text" id="todoInput" class="flex-grow rounded-l-lg border-2 border-gray-300 p-3 focus:outline-none focus:border-blue-500" placeholder="Add a new task...">
                            <button id="addTodoBtn" class="bg-blue-500 text-white font-semibold rounded-r-lg px-6 py-3 hover:bg-blue-600 transition-colors">Add</button>
                        </div>
                        <ul id="todoList" class="space-y-2">
                            <!-- To-Do items will be added here by JavaScript -->
                        </ul>
                    </div>
                </div>
            </section>

            <section class="lesson-card p-8 mb-12">
                 <button onclick="openQuiz('quiz1')" class="w-full md:w-auto px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition-colors">
                    Test Your Knowledge
                </button>
            </section>
            
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white shadow-inner mt-auto">
        <div class="container mx-auto px-6 py-6 text-center text-sm text-gray-500">
            &copy; 2025 WebDev Mastery. All rights reserved.
        </div>
    </footer>

    <!-- Quiz Modal -->
    <div id="quizModal" class="modal">
        <div class="modal-content flex flex-col items-center">
            <span class="modal-close-btn self-end" onclick="closeModal()">&times;</span>
            <p id="quiz-question" class="text-xl font-semibold mb-4 text-gray-800"></p>
            <input id="quiz-answer" type="text" class="w-full border-2 border-gray-300 rounded-lg p-3 mb-4 focus:outline-none focus:border-blue-500" placeholder="Your answer...">
            <p id="quiz-message" class="text-sm text-red-500 mb-4"></p>
            <button onclick="checkAnswer()" class="px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md hover:bg-blue-600 transition-colors">
                Submit Answer
            </button>
        </div>
    </div>

    <script>
        const quizData = {
            'quiz1': {
                question: 'In this app, what two things do we use to make new to-do list items appear?',
                answer: 'createElement and appendChild'
            }
        };
        let currentQuizId = '';
        let quizAttempts = 0;

        function openQuiz(quizId) {
            currentQuizId = quizId;
            quizAttempts = 0;
            const modal = document.getElementById('quizModal');
            document.getElementById('quiz-question').textContent = quizData[quizId].question;
            document.getElementById('quiz-answer').value = '';
            document.getElementById('quiz-message').textContent = '';
            modal.style.display = 'flex';
        }

        function closeModal() {
            const modal = document.getElementById('quizModal');
            modal.style.display = 'none';
        }

        function checkAnswer() {
            const userAnswer = document.getElementById('quiz-answer').value.trim().toLowerCase();
            const correctAnswer = quizData[currentQuizId].answer.toLowerCase();
            const messageElement = document.getElementById('quiz-message');

            if (userAnswer.includes(correctAnswer.split(' ')[0]) && userAnswer.includes(correctAnswer.split(' ')[1])) {
                 messageElement.textContent = 'Correct! Great job!';
                messageElement.style.color = '#10b981';
                setTimeout(() => {
                    closeModal();
                }, 1000);
            } else {
                quizAttempts++;
                if (quizAttempts >= 5) {
                    messageElement.textContent = `Too many tries. The correct answer is: ${quizData[currentQuizId].answer}.`;
                    messageElement.style.color = '#ef4444';
                    setTimeout(() => {
                        closeModal();
                    }, 2000);
                } else {
                    messageElement.textContent = `Incorrect. You have ${5 - quizAttempts} tries remaining.`;
                    messageElement.style.color = '#ef4444';
                }
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const todoInput = document.getElementById('todoInput');
            const addTodoBtn = document.getElementById('addTodoBtn');
            const todoList = document.getElementById('todoList');

            addTodoBtn.addEventListener('click', addTodoItem);
            todoInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    addTodoItem();
                }
            });

            function addTodoItem() {
                const todoText = todoInput.value.trim();
                if (todoText === '') return;

                const listItem = document.createElement('li');
                listItem.className = 'todo-item';
                
                const span = document.createElement('span');
                span.textContent = todoText;
                span.className = 'flex-grow';

                const buttonContainer = document.createElement('div');
                buttonContainer.className = 'flex space-x-2 ml-4';

                const completeBtn = document.createElement('button');
                completeBtn.textContent = 'Complete';
                completeBtn.className = 'px-4 py-2 bg-green-500 text-white text-sm font-semibold rounded-lg hover:bg-green-600 transition-colors';
                completeBtn.addEventListener('click', () => {
                    span.classList.toggle('completed');
                });

                const deleteBtn = document.createElement('button');
                deleteBtn.textContent = 'Delete';
                deleteBtn.className = 'px-4 py-2 bg-red-500 text-white text-sm font-semibold rounded-lg hover:bg-red-600 transition-colors';
                deleteBtn.addEventListener('click', () => {
                    todoList.removeChild(listItem);
                });

                buttonContainer.appendChild(completeBtn);
                buttonContainer.appendChild(deleteBtn);
                listItem.appendChild(span);
                listItem.appendChild(buttonContainer);
                todoList.appendChild(listItem);

                todoInput.value = '';
            }
        });
    </script>
</body>
</html>
